# FinanceMCP é¡¹ç›®æ¶æ„åˆ†ææ–‡æ¡£

## ğŸ“‹ ç›®å½•
- [é¡¹ç›®æ¦‚è¿°](#é¡¹ç›®æ¦‚è¿°)
- [æ ¸å¿ƒåŠŸèƒ½](#æ ¸å¿ƒåŠŸèƒ½)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [ä»£ç ç»“æ„](#ä»£ç ç»“æ„)
- [æ ¸å¿ƒæ¨¡å—è¯¦è§£](#æ ¸å¿ƒæ¨¡å—è¯¦è§£)
- [å·¥å…·ç³»ç»Ÿ](#å·¥å…·ç³»ç»Ÿ)
- [æŠ€æœ¯æŒ‡æ ‡å¼•æ“](#æŠ€æœ¯æŒ‡æ ‡å¼•æ“)
- [æ•°æ®æµç¨‹](#æ•°æ®æµç¨‹)
- [éƒ¨ç½²æ¨¡å¼](#éƒ¨ç½²æ¨¡å¼)
- [å¿«é€Ÿä¸Šæ‰‹](#å¿«é€Ÿä¸Šæ‰‹)

---

## é¡¹ç›®æ¦‚è¿°

**FinanceMCP** æ˜¯ä¸€ä¸ªåŸºäº MCP (Model Context Protocol) åè®®çš„ä¸“ä¸šé‡‘èæ•°æ®æœåŠ¡å™¨ï¼Œä¸º Claude ç­‰ AI åŠ©æ‰‹æä¾›å®æ—¶é‡‘èæ•°æ®å’ŒæŠ€æœ¯åˆ†æèƒ½åŠ›ã€‚

### æ ¸å¿ƒå®šä½
- **åè®®**: åŸºäº MCP åè®®æ ‡å‡†
- **æ•°æ®æº**: Tushare Pro APIï¼ˆä¸­å›½é¢†å…ˆçš„é‡‘èæ•°æ®å¹³å°ï¼‰
- **ç”¨é€”**: ä¸º AI åŠ©æ‰‹æä¾›é‡‘èæ•°æ®æŸ¥è¯¢å’Œåˆ†æèƒ½åŠ›
- **è¯­è¨€**: TypeScript/Node.js
- **ç‰ˆæœ¬**: 4.7.0

### ä¸»è¦ç‰¹è‰²
1. **æ™ºèƒ½æŠ€æœ¯æŒ‡æ ‡ç³»ç»Ÿ** - è‡ªåŠ¨é¢„å–å†å²æ•°æ®ï¼Œæ¶ˆé™¤ NaN å€¼
2. **å…¨é¢å¸‚åœºè¦†ç›–** - æ”¯æŒ Aè‚¡ã€ç¾è‚¡ã€æ¸¯è‚¡ã€å¤–æ±‡ã€æœŸè´§ã€åŸºé‡‘ã€åŠ å¯†è´§å¸ç­‰10+å¸‚åœº
3. **å¤šéƒ¨ç½²æ¨¡å¼** - æ”¯æŒ stdioã€HTTPã€SSE ä¸‰ç§éƒ¨ç½²æ¨¡å¼
4. **çµæ´»é…ç½®** - æ”¯æŒç¯å¢ƒå˜é‡ã€è¯·æ±‚å¤´ç­‰å¤šç§ Token é…ç½®æ–¹å¼

---

## æ ¸å¿ƒåŠŸèƒ½

### 1. å¸‚åœºæ•°æ®è¦†ç›–

#### æ”¯æŒçš„å¸‚åœºç±»å‹ï¼ˆ10+ï¼‰
| å¸‚åœº | ä»£ç  | ç¤ºä¾‹ | è¯´æ˜ |
|------|------|------|------|
| Aè‚¡ | `cn` | `600519.SH` | ä¸Šäº¤æ‰€ã€æ·±äº¤æ‰€è‚¡ç¥¨ |
| ç¾è‚¡ | `us` | `AAPL` | ç¾å›½è‚¡ç¥¨å¸‚åœº |
| æ¸¯è‚¡ | `hk` | `00700.HK` | é¦™æ¸¯è‚¡ç¥¨å¸‚åœº |
| å¤–æ±‡ | `fx` | `USDCNH.FXCM` | å¤–æ±‡å¸‚åœº |
| æœŸè´§ | `futures` | `CU2501.SHF` | æœŸè´§åˆçº¦ |
| åŸºé‡‘ | `fund` | `159919.SZ` | åŸºé‡‘äº§å“ |
| å€ºåˆ¸é€†å›è´­ | `repo` | `204001.SH` | å€ºåˆ¸é€†å›è´­ |
| å¯è½¬å€º | `convertible_bond` | `113008.SH` | å¯è½¬æ¢å€ºåˆ¸ |
| æœŸæƒ | `options` | `10001313.SH` | æœŸæƒåˆçº¦ |
| åŠ å¯†è´§å¸ | `crypto` | `BTCUSDT` | Binance åŠ å¯†è´§å¸ |

#### æ”¯æŒçš„æ•°æ®ç±»å‹ï¼ˆ18+å·¥å…·ï¼‰
- âœ… å®æ—¶è¡Œæƒ…æ•°æ®ï¼ˆæ—¥Kã€åˆ†é’ŸKï¼‰
- âœ… æŠ€æœ¯æŒ‡æ ‡è®¡ç®—ï¼ˆMACDã€RSIã€KDJã€BOLLã€MAï¼‰
- âœ… å®è§‚ç»æµæ•°æ®ï¼ˆGDPã€CPIã€PPIã€PMIç­‰11ä¸ªæŒ‡æ ‡ï¼‰
- âœ… å…¬å¸è´¢åŠ¡æ•°æ®ï¼ˆAè‚¡ã€æ¸¯è‚¡ã€ç¾è‚¡ï¼‰
- âœ… èµ„é‡‘æµå‘åˆ†æï¼ˆä¸ªè‚¡ã€å¤§ç›˜ã€æ¿å—ï¼‰
- âœ… èèµ„èåˆ¸æ•°æ®
- âœ… é¾™è™æ¦œæ•°æ®
- âœ… è´¢ç»æ–°é—»æœç´¢
- âœ… åŸºé‡‘æ•°æ®ä¸åŸºé‡‘ç»ç†ä¿¡æ¯
- âœ… å¤§å®—äº¤æ˜“æ•°æ®
- âœ… CSIæŒ‡æ•°æˆåˆ†è‚¡åˆ†æï¼ˆå«ä¼°å€¼/è´¢åŠ¡æŒ‡æ ‡ï¼‰

### 2. æ™ºèƒ½æŠ€æœ¯æŒ‡æ ‡ç³»ç»Ÿ

#### æ”¯æŒçš„æŠ€æœ¯æŒ‡æ ‡
| æŒ‡æ ‡ | å‚æ•°æ ¼å¼ | è¯´æ˜ |
|------|---------|------|
| MACD | `macd(12,26,9)` | è¶‹åŠ¿åˆ†ææŒ‡æ ‡ |
| RSI | `rsi(14)` | ç›¸å¯¹å¼ºå¼±æŒ‡æ ‡ |
| KDJ | `kdj(9,3,3)` | éšæœºæŒ‡æ ‡ |
| BOLL | `boll(20,2)` | å¸ƒæ—å¸¦æŒ‡æ ‡ |
| MA | `ma(5)` `ma(10)` | ç§»åŠ¨å¹³å‡çº¿ |

#### æ™ºèƒ½é¢„å–æœºåˆ¶
```
ç”¨æˆ·è¯·æ±‚ â†’ å‚æ•°è§£æ â†’ è®¡ç®—æ‰€éœ€å†å²æ•°æ®é‡ â†’ è‡ªåŠ¨æ‰©å±•æ—¶é—´èŒƒå›´ â†’
è·å–å……è¶³æ•°æ® â†’ æŒ‡æ ‡è®¡ç®— â†’ è¿‡æ»¤åˆ°ç”¨æˆ·æ—¶é—´èŒƒå›´ â†’ è¿”å›ç»“æœ
```

**æŠ€æœ¯äº®ç‚¹**ï¼š
- è‡ªåŠ¨è®¡ç®—æŒ‡æ ‡æ‰€éœ€çš„æœ€å°å†å²æ•°æ®é‡
- æ™ºèƒ½æ‰©å±•æ•°æ®è·å–çš„å¼€å§‹æ—¥æœŸ
- ä¿è¯æŒ‡æ ‡è®¡ç®—çš„å‡†ç¡®æ€§ï¼ˆæ—  NaN å€¼ï¼‰
- æœ€ç»ˆåªè¿”å›ç”¨æˆ·è¯·æ±‚çš„æ—¶é—´èŒƒå›´æ•°æ®

---

## æŠ€æœ¯æ¶æ„

### æ•´ä½“æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Claude Desktop / API                      â”‚
â”‚                  (MCP Protocol Client)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ MCP Protocol
                       â”‚ (stdio / HTTP / SSE)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FinanceMCP Server                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚         MCP Server Layer (SDK)                     â”‚     â”‚
â”‚  â”‚  - ListToolsRequestSchema Handler                  â”‚     â”‚
â”‚  â”‚  - CallToolRequestSchema Handler                   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                       â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚         Request Context Manager                     â”‚     â”‚
â”‚  â”‚  - Token Extraction (Header/Env)                   â”‚     â”‚
â”‚  â”‚  - AsyncLocalStorage Context                       â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                       â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚            Tool Router (18+ Tools)                  â”‚     â”‚
â”‚  â”‚  - current_timestamp                               â”‚     â”‚
â”‚  â”‚  - finance_news                                    â”‚     â”‚
â”‚  â”‚  - stock_data / stock_data_minutes                 â”‚     â”‚
â”‚  â”‚  - company_performance (cn/hk/us)                  â”‚     â”‚
â”‚  â”‚  - money_flow / margin_trade                       â”‚     â”‚
â”‚  â”‚  - fund_data / fund_manager_by_name                â”‚     â”‚
â”‚  â”‚  - macro_econ / index_data                         â”‚     â”‚
â”‚  â”‚  - block_trade / convertible_bond                  â”‚     â”‚
â”‚  â”‚  - csi_index_constituents                          â”‚     â”‚
â”‚  â”‚  - dragon_tiger_inst / hot_news_7x24               â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                       â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚          Technical Indicator Engine                 â”‚     â”‚
â”‚  â”‚  - Parameter Parser (paramParser.ts)               â”‚     â”‚
â”‚  â”‚  - Data Calculator (dataCalculator.ts)             â”‚     â”‚
â”‚  â”‚  - Indicator Calculators:                          â”‚     â”‚
â”‚  â”‚    * MACD (macd.ts)                                â”‚     â”‚
â”‚  â”‚    * RSI (rsi.ts)                                  â”‚     â”‚
â”‚  â”‚    * KDJ (kdj.ts)                                  â”‚     â”‚
â”‚  â”‚    * BOLL (boll.ts)                                â”‚     â”‚
â”‚  â”‚    * MA (ma.ts)                                    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                       â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tushare API   â”‚            â”‚   Binance API      â”‚
â”‚  (tushare.pro) â”‚            â”‚  (å…¬å…±è¡Œæƒ…æ¥å£)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| å±‚æ¬¡ | æŠ€æœ¯ | è¯´æ˜ |
|------|------|------|
| **åè®®å±‚** | MCP Protocol | Model Context Protocol æ ‡å‡† |
| **SDK** | @modelcontextprotocol/sdk | å®˜æ–¹ MCP SDK |
| **è¿è¡Œæ—¶** | Node.js 18+ | JavaScript è¿è¡Œç¯å¢ƒ |
| **è¯­è¨€** | TypeScript 5.3+ | ç±»å‹å®‰å…¨çš„ JavaScript |
| **Webæ¡†æ¶** | Express 4.x | HTTP æœåŠ¡å™¨ï¼ˆHTTPæ¨¡å¼ï¼‰ |
| **æ•°æ®æº** | Tushare Pro API | é‡‘èæ•°æ®æ¥å£ |
| **åŠ å¯†æ•°æ®** | Binance API | åŠ å¯†è´§å¸è¡Œæƒ…ï¼ˆå…¬å…±æ¥å£ï¼‰ |
| **é…ç½®ç®¡ç†** | dotenv | ç¯å¢ƒå˜é‡ç®¡ç† |

---

## ä»£ç ç»“æ„

### ç›®å½•æ ‘

```
FinanceMCP/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ index.ts                  # stdio æ¨¡å¼å…¥å£
â”‚   â”œâ”€â”€ httpServer.ts             # HTTP æ¨¡å¼å…¥å£
â”‚   â”œâ”€â”€ config.ts                 # é…ç½®ç®¡ç†ï¼ˆTokenã€APIåœ°å€ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                    # å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ stockCodeResolver.ts # è‚¡ç¥¨ä»£ç è§£æå™¨
â”‚   â”‚
â”‚   â””â”€â”€ tools/                    # å·¥å…·å®ç°ç›®å½•
â”‚       â”œâ”€â”€ financeNews.ts        # è´¢ç»æ–°é—»æœç´¢
â”‚       â”œâ”€â”€ stockData.ts          # è‚¡ç¥¨æ•°æ®ï¼ˆæ—¥K + æŠ€æœ¯æŒ‡æ ‡ï¼‰
â”‚       â”œâ”€â”€ stockDataMinutes.ts   # è‚¡ç¥¨åˆ†é’ŸKçº¿
â”‚       â”œâ”€â”€ indexData.ts          # æŒ‡æ•°æ•°æ®
â”‚       â”œâ”€â”€ macroEcon.ts          # å®è§‚ç»æµæ•°æ®
â”‚       â”œâ”€â”€ companyPerformance.ts # Aè‚¡å…¬å¸è´¢åŠ¡
â”‚       â”œâ”€â”€ companyPerformance_hk.ts   # æ¸¯è‚¡è´¢åŠ¡
â”‚       â”œâ”€â”€ companyPerformance_us.ts   # ç¾è‚¡è´¢åŠ¡
â”‚       â”œâ”€â”€ fundData.ts           # åŸºé‡‘æ•°æ®
â”‚       â”œâ”€â”€ fundManagerByName.ts  # åŸºé‡‘ç»ç†æŸ¥è¯¢
â”‚       â”œâ”€â”€ convertibleBond.ts    # å¯è½¬å€ºæ•°æ®
â”‚       â”œâ”€â”€ blockTrade.ts         # å¤§å®—äº¤æ˜“
â”‚       â”œâ”€â”€ moneyFlow.ts          # èµ„é‡‘æµå‘
â”‚       â”œâ”€â”€ marginTrade.ts        # èèµ„èåˆ¸
â”‚       â”œâ”€â”€ csiIndexConstituents.ts    # CSIæŒ‡æ•°æˆåˆ†è‚¡
â”‚       â”œâ”€â”€ dragonTigerInst.ts    # é¾™è™æ¦œ
â”‚       â”œâ”€â”€ hotNews.ts            # 7x24çƒ­ç‚¹æ–°é—»
â”‚       â”‚
â”‚       â”œâ”€â”€ stockDataDetail/      # æŠ€æœ¯æŒ‡æ ‡å¼•æ“
â”‚       â”‚   â”œâ”€â”€ index.ts          # ç»Ÿä¸€å¯¼å‡º
â”‚       â”‚   â”œâ”€â”€ paramParser.ts    # å‚æ•°è§£æå™¨
â”‚       â”‚   â”œâ”€â”€ dataCalculator.ts # æ•°æ®éœ€æ±‚è®¡ç®—å™¨
â”‚       â”‚   â”œâ”€â”€ macd.ts           # MACD è®¡ç®—
â”‚       â”‚   â”œâ”€â”€ rsi.ts            # RSI è®¡ç®—
â”‚       â”‚   â”œâ”€â”€ kdj.ts            # KDJ è®¡ç®—
â”‚       â”‚   â”œâ”€â”€ boll.ts           # BOLL è®¡ç®—
â”‚       â”‚   â””â”€â”€ ma.ts             # MA/EMA è®¡ç®—
â”‚       â”‚
â”‚       â”œâ”€â”€ companyPerformanceDetail/  # Aè‚¡è´¢åŠ¡æ ¼å¼åŒ–å™¨
â”‚       â”‚   â”œâ”€â”€ incomeFormatters.ts
â”‚       â”‚   â”œâ”€â”€ balanceFormatters.ts
â”‚       â”‚   â”œâ”€â”€ cashflowFormatters.ts
â”‚       â”‚   â”œâ”€â”€ indicatorsFormatters.ts
â”‚       â”‚   â”œâ”€â”€ managementFormatters.ts
â”‚       â”‚   â””â”€â”€ ... (æ›´å¤šæ ¼å¼åŒ–å™¨)
â”‚       â”‚
â”‚       â”œâ”€â”€ companyPerformanceDetail_hk/  # æ¸¯è‚¡è´¢åŠ¡æ ¼å¼åŒ–å™¨
â”‚       â”‚   â”œâ”€â”€ hkIncomeFormatters.ts
â”‚       â”‚   â”œâ”€â”€ hkBalanceFormatters.ts
â”‚       â”‚   â””â”€â”€ hkCashflowFormatters.ts
â”‚       â”‚
â”‚       â”œâ”€â”€ companyPerformanceDetail_us/  # ç¾è‚¡è´¢åŠ¡æ ¼å¼åŒ–å™¨
â”‚       â”‚   â”œâ”€â”€ usIncomeFormatters.ts
â”‚       â”‚   â”œâ”€â”€ usBalanceFormatters.ts
â”‚       â”‚   â”œâ”€â”€ usCashflowFormatters.ts
â”‚       â”‚   â””â”€â”€ usIndicatorFormatters.ts
â”‚       â”‚
â”‚       â””â”€â”€ crawler/              # çˆ¬è™«æ¨¡å—
â”‚           â”œâ”€â”€ baiduNews.ts      # ç™¾åº¦æ–°é—»çˆ¬è™«
â”‚           â””â”€â”€ utils.ts          # çˆ¬è™«å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ build/                        # ç¼–è¯‘è¾“å‡ºç›®å½•
â”œâ”€â”€ node_modules/                 # ä¾èµ–åŒ…
â”œâ”€â”€ package.json                  # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json                 # TypeScript é…ç½®
â”œâ”€â”€ Dockerfile                    # Docker é…ç½®
â”œâ”€â”€ .env                          # ç¯å¢ƒå˜é‡ï¼ˆéœ€è‡ªè¡Œåˆ›å»ºï¼‰
â””â”€â”€ README.md                     # é¡¹ç›®æ–‡æ¡£
```

### æ–‡ä»¶èŒè´£è¯´æ˜

#### æ ¸å¿ƒå…¥å£æ–‡ä»¶
- **src/index.ts** (`src/index.ts:1`)
  - stdio æ¨¡å¼çš„ä¸»å…¥å£
  - ä½¿ç”¨ `StdioServerTransport` ä¼ è¾“å±‚
  - é€‚ç”¨äº Claude Desktop æœ¬åœ°é›†æˆ
  - å·¥å…·åˆ—è¡¨æ³¨å†Œå’Œè¯·æ±‚å¤„ç†

- **src/httpServer.ts** (`src/httpServer.ts:1`)
  - HTTP/SSE æ¨¡å¼çš„ä¸»å…¥å£
  - åŸºäº Express æ¡†æ¶
  - æ”¯æŒ MCP over HTTPï¼ˆStreamable HTTPï¼‰
  - ä¼šè¯ç®¡ç†ã€Token æå–ã€è¯·æ±‚æ—¥å¿—

#### é…ç½®ç®¡ç†
- **src/config.ts** (`src/config.ts:1`)
  - ä½¿ç”¨ `AsyncLocalStorage` å®ç°è¯·æ±‚çº§åˆ«çš„ Token éš”ç¦»
  - æ”¯æŒä»ç¯å¢ƒå˜é‡æˆ–è¯·æ±‚å¤´è¯»å– Token
  - Tushare å’Œ Binance é…ç½®ç®¡ç†

#### å·¥å…·å±‚
æ¯ä¸ªå·¥å…·æ–‡ä»¶å¯¼å‡ºä¸€ä¸ªæ ‡å‡†å¯¹è±¡ï¼ŒåŒ…å«ï¼š
```typescript
{
  name: string;           // å·¥å…·åç§°
  description: string;    // å·¥å…·æè¿°
  parameters: object;     // JSON Schema å‚æ•°å®šä¹‰
  run: async function;    // æ‰§è¡Œå‡½æ•°
}
```

---

## æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. é…ç½®ç®¡ç†æ¨¡å— (config.ts)

#### è®¾è®¡æ¨¡å¼ï¼šAsyncLocalStorage

```typescript
// è¯·æ±‚ä¸Šä¸‹æ–‡ç±»å‹
type RequestContext = {
  tushareToken?: string;
};

// ä½¿ç”¨ AsyncLocalStorage å®ç°è¯·æ±‚éš”ç¦»
const requestContext = new AsyncLocalStorage<RequestContext>();

// è¿è¡Œæ—¶è®¾ç½®ä¸Šä¸‹æ–‡
export function runWithRequestContext<T>(
  ctx: Partial<RequestContext>,
  fn: () => Promise<T>
): Promise<T> {
  return requestContext.run({ tushareToken: ctx.tushareToken }, fn);
}

// è·å–å½“å‰è¯·æ±‚çš„ Token
export function getRequestToken(): string | undefined {
  return requestContext.getStore()?.tushareToken;
}
```

#### Token è§£æä¼˜å…ˆçº§
1. **è¯·æ±‚å¤´** - `X-Tushare-Token` / `X-Api-Key` / `Authorization: Bearer`
2. **ç¯å¢ƒå˜é‡** - `process.env.TUSHARE_TOKEN`

#### é…ç½®å¯¹è±¡
```typescript
export const TUSHARE_CONFIG = {
  get API_TOKEN(): string {
    return getRequestToken() ?? process.env.TUSHARE_TOKEN ?? "";
  },
  API_URL: "https://api.tushare.pro",
  TIMEOUT: 30000,
};
```

**ä¼˜åŠ¿**ï¼š
- âœ… å¤šç§Ÿæˆ·æ”¯æŒï¼ˆæ¯ä¸ªè¯·æ±‚å¯ç”¨ä¸åŒ Tokenï¼‰
- âœ… çº¿ç¨‹å®‰å…¨ï¼ˆAsyncLocalStorage éš”ç¦»ï¼‰
- âœ… å…¼å®¹æ€§å¥½ï¼ˆæ”¯æŒç¯å¢ƒå˜é‡å›é€€ï¼‰

### 2. HTTP æœåŠ¡å™¨æ¨¡å— (httpServer.ts)

#### æ ¸å¿ƒåŠŸèƒ½
1. **ä¼šè¯ç®¡ç†**
   ```typescript
   interface Session {
     id: string;
     createdAt: Date;
     lastActivity: Date;
   }
   const sessions = new Map<string, Session>();
   ```

2. **Token æå–**
   ```typescript
   function extractTokenFromHeaders(req: Request): string | undefined {
     // 1. X-Tushare-Token / X-Api-Key
     // 2. Authorization: Bearer
     // 3. Smithery ç‰¹æ®Šå¤´ï¼ˆX-Smithery-Configï¼‰
     // 4. æŸ¥è¯¢å‚æ•°
     // 5. ç¯å¢ƒå˜é‡å›é€€
   }
   ```

3. **MCP åè®®å¤„ç†**
   - `GET /mcp` - SSE è¿æ¥å»ºç«‹
   - `POST /mcp` - JSON-RPC è¯·æ±‚å¤„ç†
     - `initialize` - åˆå§‹åŒ–ä¼šè¯
     - `tools/list` - åˆ—å‡ºå·¥å…·
     - `tools/call` - è°ƒç”¨å·¥å…·
     - `resources/list` - è¿”å›ç©ºï¼ˆä¸æ”¯æŒï¼‰
     - `prompts/list` - è¿”å›ç©ºï¼ˆä¸æ”¯æŒï¼‰
     - `notifications/*` - å¤„ç†é€šçŸ¥

4. **æ—¥å¿—ç³»ç»Ÿ**
   ```typescript
   // è®°å½•æ‰€æœ‰è¯·æ±‚
   console.log(`[${timestamp}] ${method} ${url} - IP: ${ip}`);
   // è®°å½•å·¥å…·è°ƒç”¨
   console.log(`ğŸš€ [MCP-tools/call] Tool: ${name} | Has Token: ${!!token}`);
   // è®°å½•æ‰§è¡Œæ—¶é—´
   console.log(`âœ… [...] completed in ${duration}ms`);
   ```

### 3. æŠ€æœ¯æŒ‡æ ‡å¼•æ“

#### æ¨¡å—ç»„æˆ

```
stockDataDetail/
â”œâ”€â”€ index.ts              # ç»Ÿä¸€å¯¼å‡º
â”œâ”€â”€ paramParser.ts        # å‚æ•°è§£æ â­
â”œâ”€â”€ dataCalculator.ts     # æ•°æ®éœ€æ±‚è®¡ç®— â­
â”œâ”€â”€ macd.ts              # MACD æŒ‡æ ‡
â”œâ”€â”€ rsi.ts               # RSI æŒ‡æ ‡
â”œâ”€â”€ kdj.ts               # KDJ æŒ‡æ ‡
â”œâ”€â”€ boll.ts              # BOLL æŒ‡æ ‡
â””â”€â”€ ma.ts                # MA/EMA æŒ‡æ ‡
```

#### æ ¸å¿ƒæµç¨‹

##### Step 1: å‚æ•°è§£æ (paramParser.ts)
```typescript
// è§£æç”¨æˆ·è¾“å…¥çš„æŒ‡æ ‡å‚æ•°
parseIndicatorParams(indicators: string[]): IndicatorParams[]

// ç¤ºä¾‹ï¼š
// è¾“å…¥: ["macd(12,26,9)", "rsi(14)"]
// è¾“å‡º: [
//   { type: 'macd', params: [12, 26, 9] },
//   { type: 'rsi', params: [14] }
// ]
```

##### Step 2: è®¡ç®—æ‰€éœ€å†å²æ•°æ® (dataCalculator.ts)
```typescript
// è®¡ç®—éœ€è¦å¤šå°‘å¤©å†å²æ•°æ®
calculateRequiredDays(indicators: string[]): number

// ç¤ºä¾‹ï¼š
// MACD(12,26,9) éœ€è¦ 26 + 9 + å®‰å…¨è¾¹é™… = 45 å¤©
// BOLL(20,2) éœ€è¦ 20 + å®‰å…¨è¾¹é™… = 30 å¤©
// å–æœ€å¤§å€¼ = 45 å¤©
```

##### Step 3: æ‰©å±•å¼€å§‹æ—¥æœŸ
```typescript
// æ ¹æ®éœ€è¦çš„å¤©æ•°ï¼Œå‘å‰æ‰©å±•å¼€å§‹æ—¥æœŸ
calculateExtendedStartDate(startDate: string, requiredDays: number): string

// ç¤ºä¾‹ï¼š
// ç”¨æˆ·è¯·æ±‚ï¼š2024-01-01 åˆ° 2024-01-31
// éœ€è¦ 45 å¤©å†å²æ•°æ®
// å®é™…è·å–ï¼š2023-11-17 åˆ° 2024-01-31
```

##### Step 4: æŒ‡æ ‡è®¡ç®—
æ¯ä¸ªæŒ‡æ ‡ç‹¬ç«‹è®¡ç®—ï¼š
- `calculateMACD(data, fast, slow, signal)` - MACD æŒ‡æ ‡
- `calculateRSI(data, period)` - RSI æŒ‡æ ‡
- `calculateKDJ(data, n, k, d)` - KDJ æŒ‡æ ‡
- `calculateBOLL(data, period, times)` - BOLL æŒ‡æ ‡
- `calculateSMA(data, period)` - ç®€å•ç§»åŠ¨å¹³å‡

##### Step 5: è¿‡æ»¤åˆ°ç”¨æˆ·èŒƒå›´
```typescript
// åªè¿”å›ç”¨æˆ·è¯·æ±‚çš„æ—¶é—´èŒƒå›´æ•°æ®
filterDataToUserRange(data, userStartDate, userEndDate)
```

#### è®¾è®¡ä¼˜åŠ¿
- âœ… **è§£è€¦æ€§å¼º** - å‚æ•°è§£æã€æ•°æ®è®¡ç®—ã€æŒ‡æ ‡è®¡ç®—å®Œå…¨ç‹¬ç«‹
- âœ… **å¯æ‰©å±•æ€§** - æ–°å¢æŒ‡æ ‡åªéœ€æ·»åŠ è®¡ç®—å‡½æ•°
- âœ… **å‡†ç¡®æ€§é«˜** - è‡ªåŠ¨é¢„å–è¶³å¤Ÿæ•°æ®ï¼Œæ¶ˆé™¤ NaN
- âœ… **æ€§èƒ½ä¼˜åŒ–** - ä¸€æ¬¡æ€§è·å–æ•°æ®ï¼Œæ‰¹é‡è®¡ç®—

---

## å·¥å…·ç³»ç»Ÿ

### å·¥å…·æ ‡å‡†ç»“æ„

æ¯ä¸ªå·¥å…·éµå¾ªä»¥ä¸‹ç»“æ„ï¼š

```typescript
export const toolName = {
  name: "tool_name",
  description: "å·¥å…·æè¿°ï¼Œä¼šæ˜¾ç¤ºç»™ AI åŠ©æ‰‹",
  parameters: {
    type: "object",
    properties: {
      param1: {
        type: "string",
        description: "å‚æ•°æè¿°"
      },
      // ... æ›´å¤šå‚æ•°
    },
    required: ["param1"] // å¿…éœ€å‚æ•°
  },
  async run(args: { param1: string; /* ... */ }) {
    // 1. å‚æ•°éªŒè¯
    // 2. è°ƒç”¨ Tushare API
    // 3. æ•°æ®å¤„ç†å’Œæ ¼å¼åŒ–
    // 4. è¿”å›æ ‡å‡† MCP å“åº”
    return {
      content: [
        {
          type: "text",
          text: "ç»“æœå†…å®¹ï¼ˆMarkdownæ ¼å¼ï¼‰"
        }
      ]
    };
  }
};
```

### å·¥å…·åˆ†ç±»

#### 1. å¸‚åœºè¡Œæƒ…å·¥å…·
- **stock_data** (`src/tools/stockData.ts:16`)
  - æ”¯æŒ10+å¸‚åœºçš„æ—¥Kçº¿æ•°æ®
  - é›†æˆ5å¤§æŠ€æœ¯æŒ‡æ ‡
  - æ™ºèƒ½é¢„å–å†å²æ•°æ®
  - åŠ å¯†è´§å¸ï¼ˆBinanceï¼‰æ”¯æŒ

- **stock_data_minutes** (`src/tools/stockDataMinutes.ts`)
  - Aè‚¡åˆ†é’ŸKçº¿ï¼ˆTushareï¼‰
  - åŠ å¯†è´§å¸åˆ†é’ŸKçº¿ï¼ˆBinanceï¼‰
  - é¢‘ç‡ï¼š1/5/15/30/60åˆ†é’Ÿ

- **index_data** (`src/tools/indexData.ts`)
  - ä¸»è¦æŒ‡æ•°å†å²æ•°æ®
  - ä¸Šè¯æŒ‡æ•°ã€æ·±è¯æˆæŒ‡ã€åˆ›ä¸šæ¿æŒ‡ç­‰

#### 2. å…¬å¸è´¢åŠ¡å·¥å…·
- **company_performance** (`src/tools/companyPerformance.ts`)
  - Aè‚¡13ç§è´¢åŠ¡æ•°æ®ç±»å‹
  - åˆ©æ¶¦è¡¨ã€èµ„äº§è´Ÿå€ºè¡¨ã€ç°é‡‘æµé‡è¡¨
  - è´¢åŠ¡æŒ‡æ ‡ã€ç®¡ç†å±‚ä¿¡æ¯ã€è‚¡ä¸œç»“æ„

- **company_performance_hk** (`src/tools/companyPerformance_hk.ts`)
  - æ¸¯è‚¡è´¢åŠ¡åˆ†æ
  - 3å¤§è´¢åŠ¡æŠ¥è¡¨
  - è‡ªåŠ¨è´¢åŠ¡æ¯”ç‡è®¡ç®—

- **company_performance_us** (`src/tools/companyPerformance_us.ts`)
  - ç¾è‚¡è´¢åŠ¡åˆ†æ
  - 4å¤§æ•°æ®æ¥å£
  - ä¸­è‹±æ–‡ç§‘ç›®å…¼å®¹

#### 3. èµ„é‡‘åˆ†æå·¥å…·
- **money_flow** (`src/tools/moneyFlow.ts:3`)
  - ä¸ªè‚¡èµ„é‡‘æµå‘
  - å¤§ç›˜èµ„é‡‘æµå‘
  - æ¿å—èµ„é‡‘æµå‘ï¼ˆè¡Œä¸š/æ¦‚å¿µ/åœ°åŸŸï¼‰
  - ä¸»åŠ›/è¶…å¤§å•/å¤§å•/ä¸­å•/å°å•åˆ†æ

- **margin_trade** (`src/tools/marginTrade.ts`)
  - èèµ„èåˆ¸æ ‡çš„
  - äº¤æ˜“æ±‡æ€»æ•°æ®
  - æ˜ç»†æ•°æ®
  - è½¬èåˆ¸æ•°æ®

- **block_trade** (`src/tools/blockTrade.ts`)
  - å¤§å®—äº¤æ˜“æ˜ç»†
  - äº¤æ˜“å¯¹æ‰‹ä¿¡æ¯

#### 4. å®è§‚ä¸æ–°é—»å·¥å…·
- **macro_econ** (`src/tools/macroEcon.ts`)
  - 11ä¸ªå®è§‚ç»æµæŒ‡æ ‡
  - GDPã€CPIã€PPIã€PMIã€M0/M1/M2ã€Shiborç­‰

- **finance_news** (`src/tools/financeNews.ts`)
  - ç™¾åº¦æ–°é—»çˆ¬è™«
  - å¤šå…³é”®è¯æœç´¢
  - OR è¿‡æ»¤æ”¯æŒ

- **hot_news_7x24** (`src/tools/hotNews.ts`)
  - åŸºäº Tushare æœ€æ–°æ‰¹æ¬¡
  - å†…å®¹å»é‡ï¼ˆç›¸ä¼¼åº¦80%ï¼‰

#### 5. å…¶ä»–å·¥å…·
- **fund_data** - åŸºé‡‘å‡€å€¼ã€æŒä»“ã€åˆ†çº¢
- **fund_manager_by_name** - åŸºé‡‘ç»ç†æŸ¥è¯¢
- **convertible_bond** - å¯è½¬å€ºæ•°æ®
- **csi_index_constituents** - CSIæŒ‡æ•°æˆåˆ†è‚¡ï¼ˆå«ä¼°å€¼/è´¢åŠ¡ï¼‰
- **dragon_tiger_inst** - é¾™è™æ¦œæœºæ„æ˜ç»†
- **current_timestamp** - ä¸œå…«åŒºæ—¶é—´æˆ³

---

## æ•°æ®æµç¨‹

### 1. stdio æ¨¡å¼æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Claude Desktop â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ stdio
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  StdioServer    â”‚  (index.ts)
â”‚  Transport      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MCP Server     â”‚
â”‚  Request        â”‚
â”‚  Handler        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
    â–¼         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”
â”‚ List   â”‚ â”‚ Call â”‚
â”‚ Tools  â”‚ â”‚ Tool â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”¬â”€â”€â”˜
               â”‚
               â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Tool   â”‚
         â”‚   Logic  â”‚
         â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
               â”‚
               â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚ Tushare  â”‚
         â”‚   API    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. HTTP æ¨¡å¼æ•°æ®æµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Claude API /   â”‚
â”‚  Web Client     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ HTTP/SSE
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Express Server             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ Token Extraction    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚             â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ runWithRequestCtx   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚             â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Tool Router        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚             â–¼               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Tool Execution     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Tushare  â”‚
        â”‚   API    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. æŠ€æœ¯æŒ‡æ ‡è®¡ç®—æµç¨‹

```
ç”¨æˆ·è¯·æ±‚
  â”‚
  â”‚ stock_data(code="600519.SH",
  â”‚            indicators="macd(12,26,9) rsi(14)",
  â”‚            start_date="20240101",
  â”‚            end_date="20240131")
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. è§£ææŒ‡æ ‡å‚æ•°                       â”‚
â”‚    parseIndicatorParams()            â”‚
â”‚    â†’ [macd(12,26,9), rsi(14)]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. è®¡ç®—æ‰€éœ€å†å²æ•°æ®                   â”‚
â”‚    calculateRequiredDays()           â”‚
â”‚    â†’ MACDéœ€45å¤©, RSIéœ€24å¤©           â”‚
â”‚    â†’ å–æœ€å¤§: 45å¤©                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. æ‰©å±•å¼€å§‹æ—¥æœŸ                       â”‚
â”‚    calculateExtendedStartDate()      â”‚
â”‚    â†’ ä»20240101å‘å‰æ¨45å¤©             â”‚
â”‚    â†’ å®é™…å¼€å§‹æ—¥æœŸ: 20231117          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. è°ƒç”¨ Tushare API                  â”‚
â”‚    è·å–20231117-20240131çš„æ•°æ®        â”‚
â”‚    â†’ å……è¶³çš„å†å²æ•°æ®                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. è®¡ç®—æŠ€æœ¯æŒ‡æ ‡                       â”‚
â”‚    calculateMACD(data, 12, 26, 9)    â”‚
â”‚    calculateRSI(data, 14)            â”‚
â”‚    â†’ æ‰€æœ‰æ•°æ®ç‚¹éƒ½æœ‰æœ‰æ•ˆå€¼             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6. è¿‡æ»¤åˆ°ç”¨æˆ·èŒƒå›´                     â”‚
â”‚    filterDataToUserRange()           â”‚
â”‚    â†’ åªè¿”å›20240101-20240131çš„æ•°æ®    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â–¼
          è¿”å›ç»“æœ
```

---

## éƒ¨ç½²æ¨¡å¼

### æ¨¡å¼å¯¹æ¯”

| ç‰¹æ€§ | stdio æ¨¡å¼ | HTTP æ¨¡å¼ | SSE æ¨¡å¼ |
|------|-----------|----------|----------|
| **å…¥å£æ–‡ä»¶** | `index.ts` | `httpServer.ts` | `index.ts` + supergateway |
| **ä¼ è¾“å±‚** | StdioServerTransport | HTTP/Express | SSE |
| **é€‚ç”¨åœºæ™¯** | Claude Desktop æœ¬åœ° | è¿œç¨‹è®¿é—®ã€å¤šå®¢æˆ·ç«¯ | æ—©æœŸç‰ˆæœ¬å…¼å®¹ |
| **å“åº”å»¶è¿Ÿ** | 1-2ms | 10-50ms | 10-50ms |
| **ä¼šè¯ç®¡ç†** | è‡ªåŠ¨ | æ‰‹åŠ¨ï¼ˆSession Mapï¼‰ | æ‰‹åŠ¨ |
| **æ—¥å¿—** | ç®€å• | å®Œæ•´ï¼ˆè¯·æ±‚/å“åº”/æ—¶é—´ï¼‰ | ç®€å• |
| **Tokenä¼ é€’** | ç¯å¢ƒå˜é‡ | Headerä¼˜å…ˆï¼Œç¯å¢ƒå˜é‡å›é€€ | ç¯å¢ƒå˜é‡ |
| **ç«¯å£å ç”¨** | æ—  | éœ€è¦ï¼ˆé»˜è®¤3000ï¼‰ | éœ€è¦ï¼ˆé»˜è®¤3100ï¼‰ |

### 1. stdio æ¨¡å¼ï¼ˆæ¨èæœ¬åœ°ä½¿ç”¨ï¼‰

#### å¯åŠ¨æ–¹å¼
```bash
# æ–¹å¼1: ç›´æ¥è¿è¡Œ
npx -y finance-mcp

# æ–¹å¼2: å…¨å±€å®‰è£…
npm install -g finance-mcp
finance-mcp
```

#### Claude Desktop é…ç½®
```json
{
  "mcpServers": {
    "finance-mcp": {
      "command": "npx",
      "args": ["-y", "finance-mcp"],
      "env": {
        "TUSHARE_TOKEN": "your_token_here"
      }
    }
  }
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… é›¶é…ç½®ï¼ˆæ— éœ€ç«¯å£ã€æ— éœ€å¯åŠ¨æœåŠ¡ï¼‰
- âœ… æœ€ä½å»¶è¿Ÿï¼ˆè¿›ç¨‹å†…é€šä¿¡ï¼‰
- âœ… æœ€ä½³æ€§èƒ½
- âœ… è‡ªåŠ¨ä¼šè¯ç®¡ç†

### 2. HTTP æ¨¡å¼ï¼ˆæ¨èäº‘ç«¯éƒ¨ç½²ï¼‰

#### å¯åŠ¨æ–¹å¼
```bash
# æ–¹å¼1: npx
npx -y finance-mcp-http

# æ–¹å¼2: æœ¬åœ°å¼€å‘
npm run start:http
```

#### Claude Desktop é…ç½®
```json
{
  "mcpServers": {
    "finance-mcp-http": {
      "type": "streamableHttp",
      "url": "http://localhost:3000/mcp",
      "timeout": 600,
      "headers": {
        "X-Tushare-Token": "your_token_here"
      }
    }
  }
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… æ”¯æŒè¿œç¨‹è®¿é—®
- âœ… å¤šå®¢æˆ·ç«¯åŒæ—¶è¿æ¥
- âœ… å®Œæ•´çš„è¯·æ±‚æ—¥å¿—
- âœ… æ˜“äºç›‘æ§å’Œè°ƒè¯•
- âœ… æ”¯æŒ Smithery ç­‰äº‘å¹³å°éƒ¨ç½²

#### æ ¸å¿ƒç«¯ç‚¹
- `GET /health` - å¥åº·æ£€æŸ¥
- `GET /mcp` - SSE è¿æ¥å»ºç«‹
- `POST /mcp` - MCP JSON-RPC è¯·æ±‚

### 3. SSE æ¨¡å¼ï¼ˆå…¼å®¹æ€§ï¼‰

#### å¯åŠ¨æ–¹å¼
```bash
npm run start:sse
```

è¿™ä¼šä½¿ç”¨ `supergateway` å°† stdio æ¨¡å¼æ¡¥æ¥åˆ° SSEã€‚

---

## å¿«é€Ÿä¸Šæ‰‹

### 1. ç¯å¢ƒå‡†å¤‡

#### å‰ç½®è¦æ±‚
- Node.js >= 18
- Tushare API Tokenï¼ˆä» [tushare.pro](https://tushare.pro) è·å–ï¼‰

#### è·å– Token
1. è®¿é—® [tushare.pro](https://tushare.pro/register) æ³¨å†Œ
2. è¿›å…¥ä¸ªäººä¸­å¿ƒè·å– Token
3. ï¼ˆå¯é€‰ï¼‰å­¦ç”Ÿå¯ç”³è¯·2000å…è´¹ç§¯åˆ†

### 2. æœ¬åœ°å¼€å‘

#### å…‹éš†é¡¹ç›®
```bash
git clone https://github.com/guangxiangdebizi/FinanceMCP.git
cd FinanceMCP
```

#### å®‰è£…ä¾èµ–
```bash
npm install
```

#### é…ç½® Token
```bash
# æ–¹å¼1: .env æ–‡ä»¶
echo "TUSHARE_TOKEN=your_token_here" > .env

# æ–¹å¼2: ç›´æ¥ä¿®æ”¹ src/config.ts
# ï¼ˆä¸æ¨èï¼Œä»…ç”¨äºæµ‹è¯•ï¼‰
```

#### ç¼–è¯‘é¡¹ç›®
```bash
npm run build
```

#### æµ‹è¯•è¿è¡Œ
```bash
# stdio æ¨¡å¼
node build/index.js

# HTTP æ¨¡å¼
node build/httpServer.js
```

### 3. ä½¿ç”¨ MCP Inspector è°ƒè¯•

```bash
# å®‰è£… inspector
npm install -g @modelcontextprotocol/inspector

# å¯åŠ¨ inspector
npx @modelcontextprotocol/inspector build/index.js
```

åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ inspector åœ°å€ï¼Œå¯ä»¥ï¼š
- æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å·¥å…·
- æµ‹è¯•å·¥å…·è°ƒç”¨
- æŸ¥çœ‹è¯·æ±‚/å“åº”æ•°æ®

### 4. é›†æˆåˆ° Claude Desktop

#### é…ç½®æ–‡ä»¶ä½ç½®
- **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`
- **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`

#### é…ç½®ç¤ºä¾‹
```json
{
  "mcpServers": {
    "finance-mcp": {
      "command": "npx",
      "args": ["-y", "finance-mcp"],
      "env": {
        "TUSHARE_TOKEN": "your_token_here"
      }
    }
  }
}
```

#### éªŒè¯å®‰è£…
1. é‡å¯ Claude Desktop
2. åœ¨èŠå¤©æ¡†è¯¢é—®ï¼š"è·å–å½“å‰æ—¶é—´"
3. å¦‚æœè¿”å›æ—¶é—´ä¿¡æ¯ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ

### 5. ç¤ºä¾‹æŸ¥è¯¢

#### åŸºç¡€æŸ¥è¯¢
```
æŸ¥è¯¢èŒ…å°(600519.SH)æœ€è¿‘ä¸€ä¸ªæœˆçš„è‚¡ä»·
```

#### æŠ€æœ¯åˆ†æ
```
åˆ†ææ¯”äºšè¿ª(002594.SZ)çš„æŠ€æœ¯æŒ‡æ ‡ï¼ŒåŒ…æ‹¬MACD(12,26,9)ã€RSI(14)ã€KDJ(9,3,3)
```

#### ç»¼åˆåˆ†æ
```
å®å¾·æ—¶ä»£(300750.SZ)ç»¼åˆåˆ†æï¼š
1. æœ€è¿‘3ä¸ªæœˆè‚¡ä»·èµ°åŠ¿å’ŒæŠ€æœ¯æŒ‡æ ‡
2. æœ€æ–°è´¢åŠ¡æŠ¥è¡¨
3. èµ„é‡‘æµå‘æƒ…å†µ
4. ç›¸å…³æ–°é—»
```

#### å®è§‚æ•°æ®
```
æŸ¥è¯¢2024å¹´çš„GDPã€CPIã€PPIæ•°æ®
```

#### ç¾è‚¡åˆ†æ
```
è·å–è‹¹æœå…¬å¸(AAPL) 2024å¹´çš„åˆ©æ¶¦è¡¨å’Œèµ„äº§è´Ÿå€ºè¡¨
```

---

## æ ¸å¿ƒæŠ€æœ¯è¦ç‚¹

### 1. è¯·æ±‚ä¸Šä¸‹æ–‡éš”ç¦»

ä½¿ç”¨ Node.js çš„ `AsyncLocalStorage` å®ç°è¯·æ±‚çº§åˆ«çš„ Token éš”ç¦»ï¼Œæ”¯æŒå¤šç§Ÿæˆ·ï¼š

```typescript
// åœ¨ httpServer.ts ä¸­
const result = await runWithRequestContext(
  { tushareToken: extractTokenFromHeaders(req) },
  async () => {
    // åœ¨è¿™ä¸ªå¼‚æ­¥ä½œç”¨åŸŸå†…ï¼Œå¯ä»¥è·å–å½“å‰è¯·æ±‚çš„ Token
    return await toolFunction(args);
  }
);

// åœ¨ tool ä¸­
const token = TUSHARE_CONFIG.API_TOKEN; // è‡ªåŠ¨è·å–å½“å‰è¯·æ±‚çš„ Token
```

### 2. æŠ€æœ¯æŒ‡æ ‡æ™ºèƒ½é¢„å–

å…³é”®ä»£ç ä½ç½®ï¼š
- å‚æ•°è§£æï¼š`src/tools/stockDataDetail/paramParser.ts`
- æ•°æ®è®¡ç®—ï¼š`src/tools/stockDataDetail/dataCalculator.ts`
- ä¸»æµç¨‹ï¼š`src/tools/stockData.ts:79-87`

```typescript
if (requestedIndicators.length > 0) {
  const requiredDays = calculateRequiredDays(requestedIndicators);
  actualStartDate = calculateExtendedStartDate(userStartDate, requiredDays);
  console.log(`æ‰©å±•å¼€å§‹æ—¥æœŸä» ${userStartDate} åˆ° ${actualStartDate}`);
}
```

### 3. é”™è¯¯å¤„ç†

æ¯ä¸ªå·¥å…·éƒ½éµå¾ªç»Ÿä¸€çš„é”™è¯¯å¤„ç†æ¨¡å¼ï¼š

```typescript
try {
  // ä¸šåŠ¡é€»è¾‘
  return { content: [{ type: "text", text: result }] };
} catch (error) {
  return {
    content: [{
      type: "text",
      text: `âŒ é”™è¯¯: ${error.message}`
    }],
    isError: true
  };
}
```

### 4. æ•°æ®æ ¼å¼åŒ–

ä½¿ç”¨ä¸“é—¨çš„ formatter æ¨¡å—å¤„ç†ä¸åŒç±»å‹çš„è´¢åŠ¡æ•°æ®ï¼š
- `companyPerformanceDetail/` - Aè‚¡æ ¼å¼åŒ–å™¨
- `companyPerformanceDetail_hk/` - æ¸¯è‚¡æ ¼å¼åŒ–å™¨
- `companyPerformanceDetail_us/` - ç¾è‚¡æ ¼å¼åŒ–å™¨

æ¯ä¸ªæ ¼å¼åŒ–å™¨è´Ÿè´£ï¼š
1. æ•°æ®ç»“æ„è½¬æ¢
2. Markdown è¡¨æ ¼ç”Ÿæˆ
3. è´¢åŠ¡æ¯”ç‡è®¡ç®—
4. ä¸­è‹±æ–‡ç§‘ç›®æ˜ å°„

---

## æ‰©å±•å¼€å‘

### æ·»åŠ æ–°å·¥å…·

#### 1. åˆ›å»ºå·¥å…·æ–‡ä»¶
åœ¨ `src/tools/` ä¸‹åˆ›å»ºæ–°æ–‡ä»¶ï¼Œä¾‹å¦‚ `newTool.ts`ï¼š

```typescript
import { TUSHARE_CONFIG } from '../config.js';

export const newTool = {
  name: "new_tool",
  description: "å·¥å…·æè¿°",
  parameters: {
    type: "object",
    properties: {
      param1: {
        type: "string",
        description: "å‚æ•°æè¿°"
      }
    },
    required: ["param1"]
  },
  async run(args: { param1: string }) {
    try {
      // 1. è·å– Token
      const token = TUSHARE_CONFIG.API_TOKEN;

      // 2. è°ƒç”¨ API
      const response = await fetch(TUSHARE_CONFIG.API_URL, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          api_name: 'your_api_name',
          token: token,
          params: { param1: args.param1 },
          fields: 'field1,field2'
        })
      });

      const data = await response.json();

      // 3. å¤„ç†æ•°æ®
      // ...

      // 4. è¿”å›ç»“æœ
      return {
        content: [{
          type: "text",
          text: "ç»“æœå†…å®¹"
        }]
      };
    } catch (error: any) {
      return {
        content: [{
          type: "text",
          text: `âŒ é”™è¯¯: ${error.message}`
        }],
        isError: true
      };
    }
  }
};
```

#### 2. æ³¨å†Œå·¥å…·
åœ¨ `src/index.ts` å’Œ `src/httpServer.ts` ä¸­ï¼š

```typescript
// 1. å¯¼å…¥å·¥å…·
import { newTool } from "./tools/newTool.js";

// 2. åœ¨ toolList ä¸­æ·»åŠ 
{
  name: newTool.name,
  description: newTool.description,
  inputSchema: newTool.parameters
}

// 3. åœ¨ switch-case ä¸­æ·»åŠ å¤„ç†
case "new_tool":
  return await newTool.run({ param1: String(args?.param1) });
```

#### 3. ç¼–è¯‘æµ‹è¯•
```bash
npm run build
npx @modelcontextprotocol/inspector build/index.js
```

### æ·»åŠ æ–°æŠ€æœ¯æŒ‡æ ‡

#### 1. åˆ›å»ºæŒ‡æ ‡æ–‡ä»¶
åœ¨ `src/tools/stockDataDetail/` ä¸‹åˆ›å»ºï¼Œä¾‹å¦‚ `ema.ts`ï¼š

```typescript
interface StockDataPoint {
  trade_date: string;
  close: number;
}

export function calculateEMA(
  data: StockDataPoint[],
  period: number
): Record<string, number> {
  // å®ç° EMA è®¡ç®—é€»è¾‘
  // ...
  return result;
}
```

#### 2. æ³¨å†ŒæŒ‡æ ‡
åœ¨ `src/tools/stockDataDetail/index.ts` ä¸­å¯¼å‡ºï¼š

```typescript
export { calculateEMA } from './ema.js';
```

#### 3. é›†æˆåˆ° stockData
åœ¨ `src/tools/stockData.ts` ä¸­ï¼š

```typescript
import { calculateEMA } from './stockDataDetail/index.js';

// åœ¨æŒ‡æ ‡è®¡ç®—é€»è¾‘ä¸­æ·»åŠ 
if (indicatorType === 'ema') {
  const emaResult = calculateEMA(data, params[0]);
  // ... å¤„ç†ç»“æœ
}
```

---

## å¸¸è§é—®é¢˜

### Q1: Token å¦‚ä½•ä¼ é€’ï¼Ÿ
**A**: æ”¯æŒå¤šç§æ–¹å¼ï¼š
1. **stdio æ¨¡å¼**: é€šè¿‡ `env.TUSHARE_TOKEN`
2. **HTTP æ¨¡å¼**:
   - è¯·æ±‚å¤´ `X-Tushare-Token`
   - `Authorization: Bearer <token>`
   - ç¯å¢ƒå˜é‡ï¼ˆå›é€€ï¼‰

### Q2: å¦‚ä½•è°ƒè¯•å·¥å…·ï¼Ÿ
**A**: ä½¿ç”¨ MCP Inspectorï¼š
```bash
npx @modelcontextprotocol/inspector build/index.js
```

### Q3: åŠ å¯†è´§å¸æ•°æ®æ¥æºï¼Ÿ
**A**: ä½¿ç”¨ Binance å…¬å…±è¡Œæƒ…æ¥å£ï¼ˆæ— éœ€ API Keyï¼‰

### Q4: å¦‚ä½•è·å–æ›´å¤šç§¯åˆ†ï¼Ÿ
**A**:
1. å®Œæˆ Tushare å®åè®¤è¯
2. å­¦ç”Ÿå¯ç”³è¯·å…è´¹ç§¯åˆ†
3. å‚ä¸ç¤¾åŒºè´¡çŒ®

### Q5: æ”¯æŒå“ªäº›å¸‚åœºï¼Ÿ
**A**: Aè‚¡ã€ç¾è‚¡ã€æ¸¯è‚¡ã€å¤–æ±‡ã€æœŸè´§ã€åŸºé‡‘ã€å€ºåˆ¸ã€æœŸæƒã€åŠ å¯†è´§å¸ï¼ˆ10+å¸‚åœºï¼‰

---

## æ€§èƒ½ä¼˜åŒ–

### å·²å®ç°çš„ä¼˜åŒ–

1. **åŸºé‡‘æ•°æ®æŸ¥è¯¢ä¼˜åŒ–** (`src/tools/fundData.ts`)
   - ä» 5.2s é™ä½åˆ° 0.8sï¼ˆ85% æå‡ï¼‰
   - æ‰¹é‡APIè°ƒç”¨
   - ç»“æœç¼“å­˜

2. **æŠ€æœ¯æŒ‡æ ‡é¢„å–ä¼˜åŒ–**
   - ä¸€æ¬¡æ€§è·å–å……è¶³æ•°æ®
   - é¿å…å¤šæ¬¡ API è°ƒç”¨

3. **è¯·æ±‚æ—¥å¿—ä¼˜åŒ–**
   - ç»“æ„åŒ–æ—¥å¿—
   - æ‰§è¡Œæ—¶é—´ç»Ÿè®¡

### å¯ä»¥ä¼˜åŒ–çš„æ–¹å‘

1. **æ•°æ®ç¼“å­˜**
   - å®ç° Redis ç¼“å­˜å±‚
   - ç¼“å­˜å†å²æ•°æ®ï¼ˆæ—¥Kçº¿å˜åŒ–ä¸é¢‘ç¹ï¼‰

2. **æ‰¹é‡è¯·æ±‚**
   - åˆå¹¶å¤šä¸ªå·¥å…·è°ƒç”¨
   - å‡å°‘ API è°ƒç”¨æ¬¡æ•°

3. **å¹¶å‘æ§åˆ¶**
   - é™åˆ¶å¹¶å‘è¯·æ±‚æ•°
   - é¿å…è¶…å‡º API é™åˆ¶

---

## æ€»ç»“

FinanceMCP æ˜¯ä¸€ä¸ªè®¾è®¡ç²¾è‰¯çš„é‡‘èæ•°æ® MCP æœåŠ¡å™¨ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

âœ… **æ¶æ„æ¸…æ™°** - åˆ†å±‚è®¾è®¡ï¼ŒèŒè´£æ˜ç¡®
âœ… **åŠŸèƒ½ä¸°å¯Œ** - 18+å·¥å…·ï¼Œè¦†ç›–10+å¸‚åœº
âœ… **æŠ€æœ¯å…ˆè¿›** - æ™ºèƒ½æŒ‡æ ‡å¼•æ“ï¼Œè‡ªåŠ¨é¢„å–æ•°æ®
âœ… **æ˜“äºæ‰©å±•** - æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºæ·»åŠ æ–°å·¥å…·
âœ… **éƒ¨ç½²çµæ´»** - æ”¯æŒ stdioã€HTTPã€SSE ä¸‰ç§æ¨¡å¼
âœ… **æ–‡æ¡£å®Œå–„** - READMEã€ä»£ç æ³¨é‡Šã€ç±»å‹å®šä¹‰

é€šè¿‡æœ¬æ–‡æ¡£ï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š
1. ç†è§£é¡¹ç›®çš„æ•´ä½“æ¶æ„
2. æŒæ¡æ ¸å¿ƒæ¨¡å—çš„å·¥ä½œåŸç†
3. å¿«é€Ÿä¸Šæ‰‹å¼€å‘å’Œè°ƒè¯•
4. æ‰©å±•æ–°åŠŸèƒ½å’Œå·¥å…·

---

**ğŸ“§ é—®é¢˜åé¦ˆ**: guangxiangdebizi@gmail.com
**ğŸ”— GitHub**: [guangxiangdebizi/FinanceMCP](https://github.com/guangxiangdebizi/FinanceMCP)
